
---------------------------------------------AWS CloudFormation(22:08)-------------------------------------

AWS CloudFormation à¤à¤• Infrastructure as Code (IaC) service à¤¹à¥ˆ à¤œà¥‹ à¤†à¤ªà¤•à¥‹ AWS resources (à¤œà¥ˆà¤¸à¥‡ EC2, RDS, S3, IAM roles, etc.) à¤•à¥‹ automate à¤”à¤° manage à¤•à¤°à¤¨à¥‡ à¤®à¥‡à¤‚ à¤®à¤¦à¤¦ à¤•à¤°à¤¤à¥€ à¤¹à¥ˆà¥¤ à¤†à¤ª à¤à¤• simple YAML à¤¯à¤¾ JSON template à¤²à¤¿à¤–à¤¤à¥‡ à¤¹à¥ˆà¤‚ à¤”à¤° CloudFormation à¤‰à¤¸ template à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤¸à¤¾à¤°à¥‡ resources à¤•à¥‹ create, update à¤¯à¤¾ delete à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤


-------------------------------------------------------Terraform(32:52)(52:20)-------------------------------------------

Terraform à¤à¤• Infrastructure as Code (IaC) à¤Ÿà¥‚à¤² à¤¹à¥ˆ à¤œà¤¿à¤¸à¥‡ HashiCorp à¤¨à¥‡ à¤¬à¤¨à¤¾à¤¯à¤¾ à¤¹à¥ˆà¥¤ à¤‡à¤¸à¤•à¥€ à¤®à¤¦à¤¦ à¤¸à¥‡ à¤†à¤ª à¤…à¤ªà¤¨à¥‡ à¤•à¥à¤²à¤¾à¤‰à¤¡ à¤‡à¤‚à¤«à¥à¤°à¤¾à¤¸à¥à¤Ÿà¥à¤°à¤•à¥à¤šà¤° (à¤œà¥ˆà¤¸à¥‡ AWS, Azure, Google Cloud à¤†à¤¦à¤¿) à¤•à¥‹ à¤•à¥‹à¤¡ à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤ªà¤°à¤¿à¤­à¤¾à¤·à¤¿à¤¤ à¤”à¤° à¤®à¥ˆà¤¨à¥‡à¤œ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤

------------------------------------------------main.tf--------(28:08)-----------------------------------------------
provider "aws" {
  region     = "ap-south-1"
  access_key =  " "     -------------> than go to aws search IAM and create user and genrate (access_key ) & ( secret_key )
  secret_key = ""
}


ðŸ”¹ provider "aws" â€“ à¤¯à¤¹ AWS provider à¤•à¥‹ initialize à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤
âž¡ï¸ à¤¯à¤¹à¤¾à¤ à¤†à¤ª à¤¬à¤¤à¤¾ à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ à¤•à¤¿ à¤†à¤ª à¤•à¥Œà¤¨ à¤¸à¥‡ region à¤®à¥‡à¤‚ (à¤œà¥ˆà¤¸à¥‡ ap-south-1 à¤¯à¤¾à¤¨à¥€ Mumbai) à¤•à¤¾à¤® à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ à¤”à¤° AWS à¤•à¥€ credentials à¤•à¥Œà¤¨ à¤¸à¥€ à¤¹à¥ˆà¤‚à¥¤
âž¡ï¸ à¤¯à¤¹ credentials production à¤®à¥‡à¤‚ à¤•à¤­à¥€ hardcode à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¨à¥€ à¤šà¤¾à¤¹à¤¿à¤ (Security Risk)à¥¤

-----------------------------------------------provider.tf--------------------------------------

resource "aws_instance" "vm-1" {
  ami                    = "${var.ami}" 
  instance_type          = "${var.instance}"
  key_name               = "${var.key}"
  vpc_security_group_ids = ["default"]

  tags = {
    Name = "DefultLinuxEC2Instance"
  }
}


ðŸ”¹ resource "aws_instance" "vm_1" â€“ à¤¯à¤¹ EC2 instance launch à¤•à¤°à¤¨à¥‡ à¤•à¤¾ block à¤¹à¥ˆà¥¤

| Key                                  | Explanation                                                                           |
| ------------------------ | ------------------------------------------------------------------------------------- 
| `ami`                              | à¤œà¥‹ AMI ID à¤†à¤ª variables à¤®à¥‡à¤‚ à¤¦à¥‡ à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚ (`ami-0af956...`) à¤‰à¤¸à¥‡ à¤¯à¤¹à¤¾à¤ à¤‡à¤¸à¥à¤¤à¥‡à¤®à¤¾à¤² à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆ |
| `instance_type`             | à¤œà¥ˆà¤¸à¥‡ `t2.micro`                                                                       
| `key_name`                   | SSH access à¤•à¥‡ à¤²à¤¿à¤ key pair                                                            
| `vpc_security_group_ids` | EC2 à¤•à¥‹ à¤œà¥‹ security group assign à¤•à¤°à¤¨à¤¾ à¤¹à¥ˆ (à¤¯à¤¹à¤¾à¤ à¤†à¤ªà¤¨à¥‡ custom à¤¬à¤¨à¤¾à¤¯à¤¾ `default_sg`)         
| `tags`                             | AWS Console à¤®à¥‡à¤‚ à¤¯à¤¹ EC2 à¤•à¤¾ à¤¨à¤¾à¤® show à¤•à¤°à¥‡à¤—à¤¾                                              


--------------------------------------------------------------------input.tf--------------------------------------

variable "ami" {      
  default     = "ami-0af9569868786b23a"
  description = "amazone machine image id"
}

à¤¯à¤¹ à¤à¤• AMI ID variable à¤¹à¥ˆ à¤œà¤¿à¤¸à¥‡ à¤¹à¤® main.tf à¤®à¥‡à¤‚ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚à¥¤


variable "instance" {      
  default     = "t2.micro"
  description = "Type of instance"
}

à¤¯à¤¹ EC2 à¤•à¤¾ type à¤¹à¥ˆ â€“ à¤†à¤ª à¤šà¤¾à¤¹à¥‡à¤‚ à¤¤à¥‹ à¤‡à¤¸à¥‡ à¤¬à¤¾à¤¦ à¤®à¥‡à¤‚ à¤¬à¤¦à¤² à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚ (t2.medium, t3.micro, à¤†à¤¦à¤¿)à¥¤

variable "key" {      
  default     = "devops_session_2"
  description = "key pair ssh"
}

EC2 instance à¤®à¥‡à¤‚ SSH login à¤•à¥‡ à¤²à¤¿à¤ key pair à¤•à¤¾ à¤¨à¤¾à¤® à¤œà¥‹ AWS Console à¤®à¥‡à¤‚ à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ exist à¤¹à¥‹à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤à¥¤



------------------------------------------------------------------output.tf------------------------------------------------------

output "ec2_vm_public_ip" {
  description = "Public IP of the EC2 instance"
  value       = aws_instance.vm-1.public_ip
}


Terraform apply à¤•à¥‡ à¤¬à¤¾à¤¦ à¤†à¤ª public IP à¤¦à¥‡à¤– à¤¸à¤•à¥‡à¤‚à¤—à¥‡ à¤œà¤¿à¤¸à¤¸à¥‡ SSH à¤•à¤° à¤¸à¤•à¥‡à¤‚:


                                                                                            terraform destroy
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Terraform Architecture
       main.tf ---> terraform init --> genrate(.terraform.lock.hcl) [planing details] --> terraform validate --> terraform fmt ----> terraform plan(genrate plan document  ---> terraform apply(genrate json structure)


 Terraform Execution Architecture (Flow-Based Understanding)

              main.tf / .tf files
                    â”‚
                    â–¼
           terraform init
                    â”‚
                    â”œâ”€â”€> Initializes `.terraform` directory
                    â””â”€â”€> Generates `.terraform.lock.hcl` (provider versions lock)
                    â”‚
                    â–¼
          terraform validate
     (Syntax & Configuration validation)
                    â”‚
                    â–¼
            terraform fmt
     (Formats your code for readability)
                    â”‚
                    â–¼
            terraform plan
         (Generates execution plan)
                    â”‚
                    â”œâ”€â”€> [Optionally save plan]
                    â”‚     terraform plan -out=tfplan
                    â–¼
            terraform apply
        (Applies the changes to infra)
                    â”‚
                    â”œâ”€â”€> Generates actual infra (AWS EC2 etc.)
                    â””â”€â”€> Updates `terraform.tfstate` file
                    â–¼
              Infrastructure Live


terraform destroy

-----------------------------------project working--------  (47:50)--------------------------------------------------------------------------------

create folder ---> tcs   , tcs--->module(folder) -->main.tf --> provider.tf
 module ---> ec2(folder) --> s3(folder) ---> rds(folder)
ec2 ---> main.tf  ---> input.tf  ---> out.tf
s3 --> main.tf  ---> input.tf  ---> out.tf
rds ---->  main.tf  ---> input.tf  ---> out.tf



                       
                                           +-------------------+
                            |   provider.tf     |
                            +-------------------+
                                      |
                          +-----------+-----------+
                          |                       |
                    +-----v-----+           +-----v-----+
                    | variables |           | tfvars    |
                    +-----------+           +-----------+
                          |
                    +-----v-----+
                    |  main.tf   |  <--------- Project Root (tcs/)
                    +-----+-----+
                          |
    +---------------------+----------------------+
    |                    |                      |
    |                    |                      |
+---v---+          +-----v-----+          +------v------+
| EC2   |          |   S3      |          |     RDS     |       <-- Modules folder
|Module |          |  Module   |          |   Module    |
+---+---+          +-----+-----+          +------+------+
    |                    |                       |
    |                    |                       |
+---v---+          +-----v-----+          +------v------+
|input  |          |  input.tf |          |  input.tf    |
|.tf    |          |  main.tf  |          |  main.tf     |
|main.tf|          |  out.tf   |          |  out.tf      |
|out.tf|           +-----------+          +-------------+
+-------+

                                          
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------


